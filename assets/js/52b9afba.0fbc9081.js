"use strict";(self.webpackChunkdeadcodes=self.webpackChunkdeadcodes||[]).push([[841],{1920:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>b,frontMatter:()=>d,metadata:()=>u,toc:()=>m});var i=t(7624),r=t(2172),o=(t(1504),t(3940)),l=t(9188),s=t(9460);t(9080);const a=JSON.parse('[{"date":"2024-01-31","title":"Reworked [2.0]","items":["Added UTILS:antiIdle()","Added UTILS.gameStateChecks()","Added UTILS.CanUseLodestone()","Added UTILS.getDistinctByProperty()","Added UTILS.LoadActionBar()","Added UTILS.getSkillOnBar()","Added UTILS.countTicks()","Added UTILS.rangeSleep()","Added UTILS.SleepUntil()","Added UTILS.SleepUtilWithoutChecks()","Added UTILS.getAmountInOrebox()"]},{"date":"2024-01-20","title":"Release [1.0]","items":["Release"]}]'),d={title:"DeadUtils",description:"Utility Functions",slug:"/dead-utils"},c=void 0,u={id:"Libraries/utils/index",title:"DeadUtils",description:"Utility Functions",source:"@site/docs/Libraries/utils/index.md",sourceDirName:"Libraries/utils",slug:"/dead-utils",permalink:"/dead-utils",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"DeadUtils",description:"Utility Functions",slug:"/dead-utils"},sidebar:"libSidebar",previous:{title:"Lodestones",permalink:"/lodestones"}},h={},m=[{value:"Usage",id:"usage",level:2},{value:"Changelog",id:"changelog",level:2},{value:"Functions",id:"functions",level:2},{value:"<code>antiIdle</code>",id:"antiidle",level:3},{value:"<code>isEmpty</code>",id:"isempty",level:3},{value:"<code>randomSleep</code>",id:"randomsleep",level:3},{value:"<code>gameStateChecks</code>",id:"gamestatechecks",level:3},{value:"<code>CanUseLodestone</code>",id:"canuselodestone",level:3},{value:"<code>waitForPlayerAtCoords</code>",id:"waitforplayeratcoords",level:3},{value:"<code>concatenateTables</code>",id:"concatenatetables",level:3},{value:"<code>getDistinctValues</code>",id:"getdistinctvalues",level:3},{value:"<code>getDistinctByProperty</code>",id:"getdistinctbyproperty",level:3},{value:"<code>DO_RandomEvents</code>",id:"do_randomevents",level:3},{value:"<code>LoadActionBar</code>",id:"loadactionbar",level:3},{value:"<code>getSkillOnBar</code>",id:"getskillonbar",level:3},{value:"<code>countTicks</code>",id:"countticks",level:3},{value:"<code>rangeSleep</code>",id:"rangesleep",level:3},{value:"<code>SleepUntil</code>",id:"sleepuntil",level:3},{value:"<code>SleepUtilWithoutChecks</code>",id:"sleeputilwithoutchecks",level:3},{value:"<code>getAmountInOrebox</code>",id:"getamountinorebox",level:3},{value:"Code",id:"code",level:2}];function f(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.c,{title:"Dead Utils",version:"2024.01"}),"\n",(0,i.jsx)(n.admonition,{type:"hidden",children:(0,i.jsx)(n.h2,{id:"usage",children:"Usage"})}),"\n",(0,i.jsx)(l.c,{title:"Usage",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'local UTILS = require("utils")\nUTILS:antiIdle()\n'})})}),"\n",(0,i.jsx)(n.admonition,{type:"hidden",children:(0,i.jsx)(n.h2,{id:"changelog",children:"Changelog"})}),"\n",(0,i.jsx)(s.c,{changes:a}),"\n",(0,i.jsx)(n.admonition,{type:"hidden",children:(0,i.jsx)(n.h2,{id:"functions",children:"Functions"})}),"\n",(0,i.jsxs)(l.c,{title:"Functions",children:[(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"antiidle",children:(0,i.jsx)(n.code,{children:"antiIdle"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"The anti idle function we've all been using"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"isempty",children:(0,i.jsx)(n.code,{children:"isEmpty"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["s ",(0,i.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Function to tell if a string is empty"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"randomsleep",children:(0,i.jsx)(n.code,{children:"randomSleep"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["milliseconds ",(0,i.jsx)(n.code,{children:"number"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Sleeps to a random duration"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"gamestatechecks",children:(0,i.jsx)(n.code,{children:"gameStateChecks"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Checks for the following"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If we're logged in"}),"\n",(0,i.jsx)(n.li,{children:"If script is looping"}),"\n"]}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"canuselodestone",children:(0,i.jsx)(n.code,{children:"CanUseLodestone"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Checks if we can use a lodestone\nAfter exiting combat, you can use a lodestone for a specific duration."}),"\n",(0,i.jsx)(n.p,{children:"This method tells you when you can use a lodestone"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"waitforplayeratcoords",children:(0,i.jsx)(n.code,{children:"waitForPlayerAtCoords"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["coords ",(0,i.jsx)(n.code,{children:"WPOINT"})]}),"\n",(0,i.jsxs)(n.li,{children:["threshold ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:["maxWaitInSeconds ",(0,i.jsx)(n.code,{children:"number"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Wait for a player to reach a coords within a threshold, upto defined seconds"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"concatenatetables",children:(0,i.jsx)(n.code,{children:"concatenateTables"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"comma seperated list of tables to concatenate"}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns a new table combining all the input tables"}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",metastring:'title="Example" showLineNumbers',children:"local ITEMS = {}\n\nITEMS.COMMON = {\n    995 -- gold coins\n}\n\nITEMS.RUNES = {\n    554, -- fire\n    555, -- water\n    556, -- air\n    557 -- earth\n}\n--highlight-next-line\nlocal lootableItems = UTILS.concatenateTables(ITEMS.COMMON, ITEMS.RUNES)\n\n"})}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"getdistinctvalues",children:(0,i.jsx)(n.code,{children:"getDistinctValues"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["inputTable ",(0,i.jsx)(n.code,{children:"table"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns a table with unique values"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"getdistinctbyproperty",children:(0,i.jsx)(n.code,{children:"getDistinctByProperty"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["inputTable ",(0,i.jsx)(n.code,{children:"table"})]}),"\n",(0,i.jsxs)(n.li,{children:["property ",(0,i.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns a table with unique elements based on the provided property"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"do_randomevents",children:(0,i.jsx)(n.code,{children:"DO_RandomEvents"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Handles the following random events"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["18204 ",(0,i.jsx)(n.code,{children:"Chronicle fragment"}),", 18205 ",(0,i.jsx)(n.code,{children:"other peoples"})]}),"\n",(0,i.jsxs)(n.li,{children:["19884 ",(0,i.jsx)(n.code,{children:"Guthix butterfly"})]}),"\n",(0,i.jsxs)(n.li,{children:["26022 ",(0,i.jsx)(n.code,{children:"Seren spirit"})]}),"\n",(0,i.jsxs)(n.li,{children:["27228 ",(0,i.jsx)(n.code,{children:"Divine blessing"})]}),"\n",(0,i.jsxs)(n.li,{children:["27297 ",(0,i.jsx)(n.code,{children:"Forge phoenix"})]}),"\n",(0,i.jsxs)(n.li,{children:["28411 ",(0,i.jsx)(n.code,{children:"Catalyst"})]}),"\n",(0,i.jsxs)(n.li,{children:["30599 ",(0,i.jsx)(n.code,{children:"Halloween Pumpkin"})]}),"\n",(0,i.jsxs)(n.li,{children:["15451 ",(0,i.jsx)(n.code,{children:"Fire spirit"})]}),"\n"]}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"loadactionbar",children:(0,i.jsx)(n.code,{children:"LoadActionBar"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["barNumber ",(0,i.jsx)(n.code,{children:"number"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Loads the primary action bar"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Action bar switcher",src:t(5816).c+"",width:"467",height:"161"})}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"getskillonbar",children:(0,i.jsx)(n.code,{children:"getSkillOnBar"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["skillName ",(0,i.jsx)(n.code,{children:"string"}),"\nGet's a skill on the ability bar"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Checks if it can be used"}),"\n",(0,i.jsx)(n.p,{children:"Returns nil if the skill isn't found or can't be used"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"countticks",children:(0,i.jsx)(n.code,{children:"countTicks"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["ticks ",(0,i.jsx)(n.code,{children:"number"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Sleeps for the given number of game ticks"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"rangesleep",children:(0,i.jsx)(n.code,{children:"rangeSleep"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["milliseconds ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:["randMin ",(0,i.jsx)(n.code,{children:"number"})," = 0"]}),"\n",(0,i.jsxs)(n.li,{children:["randMax ",(0,i.jsx)(n.code,{children:"number"})," = 0"]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Sleeps for random number of milliseconds"}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"sleepuntil",children:(0,i.jsx)(n.code,{children:"SleepUntil"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["conditionFunc ",(0,i.jsx)(n.code,{children:"function"})]}),"\n",(0,i.jsxs)(n.li,{children:["timeout ",(0,i.jsx)(n.code,{children:"number"})," (seconds)"]}),"\n",(0,i.jsxs)(n.li,{children:["message ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:["... any ",(0,i.jsx)(n.code,{children:"arguments to the function"})]}),"\n",(0,i.jsxs)(n.li,{children:["@return ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Sleeps until the passed condition returns true or the timeout duration is reached"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Checks for random events, game state and API.Read_LoopyLoop while sleeping"})}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",metastring:'title="Example" showLineNumbers',children:'\nfunction UTILS.isChooseOptionInterfaceOpen()\n    return API.Compare2874Status(12, false)\nend\n--highlight-start\nlocal function waitForChooseOption()\n    return UTILS.SleepUntil(UTILS.isChooseOptionInterfaceOpen, 20, "Waiting for choose option to open")\nend\n--highlight-end\nlocal wasItOpen = waitForChooseOption()\n'})}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"sleeputilwithoutchecks",children:(0,i.jsx)(n.code,{children:"SleepUtilWithoutChecks"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["conditionFunc ",(0,i.jsx)(n.code,{children:"function"})]}),"\n",(0,i.jsxs)(n.li,{children:["timeout ",(0,i.jsx)(n.code,{children:"number"})," (seconds)"]}),"\n",(0,i.jsxs)(n.li,{children:["message ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:["... any ",(0,i.jsx)(n.code,{children:"arguments to the function"})]}),"\n",(0,i.jsxs)(n.li,{children:["@return ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Sleeps until the passed condition returns true or the timeout duration is reached"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"There are no checks in place"})}),"\n"]}),(0,i.jsx)(n.hr,{}),(0,i.jsx)(n.h3,{id:"getamountinorebox",children:(0,i.jsx)(n.code,{children:"getAmountInOrebox"})}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["oreId ",(0,i.jsx)(n.code,{children:"number"})]}),"\n"]}),"\n"]}),(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns the number of ores of requested id present in ore box."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"UTILS.ORES.NECRITE"})})," can be used in place of the ID for Necrite (44826)"]}),"\n"]}),(0,i.jsx)(n.hr,{})]}),"\n",(0,i.jsx)(n.admonition,{type:"hidden",children:(0,i.jsx)(n.h2,{id:"code",children:"Code"})}),"\n",(0,i.jsx)(l.c,{title:"Code",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",metastring:"showLineNumbers",children:'--[[\n#Script Name:   <utils.lua>\n# Description:  <Collection of utility functions>\n# Autor:        <Dead (dea.d - Discord)>\n# Version:      <2.0>\n# Datum:        <2024.01.31>\n--]]\n\nlocal API = require("api")\nlocal UTILS = {}\n\nUTILS.__index = UTILS\n\nfunction UTILS.new()\n    local self = setmetatable({}, UTILS)\n    self.afk = os.time()\n    self.randomTime = math.random(180, 280)\n    self.worldTime = os.time()\n    return self\nend\n\nlocal MAX_IDLE_TIME_MINUTES = 5\n\nUTILS.ORES = {\n    COPPER = 436,\n    TIN = 438,\n    IRON = 440,\n    SILVER = 442,\n    GOLD = 444,\n    MITHRIL = 447,\n    ADAMANTITE = 449,\n    RUNITE = 451,\n    COAL = 453,\n    BANITE = 21778,\n    LUMINITE = 44820,\n    ORICHALCITE = 44822,\n    DRAKOLITH = 44824,\n    NECRITE = 44826,\n    PHASMATITE = 44828,\n    LIGHT_ANIMICA = 44830,\n    DARK_ANIMICA = 44832\n}\n\n--- The anti idle function we\'ve all been using\n---@return boolean\nfunction UTILS:antiIdle()\n  math.randomseed(os.time())\n  local timeDiff = os.difftime(os.time(), self.afk)\n  local randomTime = math.random((MAX_IDLE_TIME_MINUTES * 60) * 0.6, (MAX_IDLE_TIME_MINUTES * 60) * 0.9)\n  if timeDiff > randomTime then\n    API.PIdle2()\n    self.afk = os.time()\n    return true\n  end\nend\n\n--- Function to tell if a string is empty\nfunction UTILS.isEmpty(s)\n  return s == nil or s == \'\'\nend\n\nfunction UTILS.tableIncludes(table, value)\n  for i = 1, #table do\n    if table[i] == value then\n      return true\n    end\n  end\n  return false\nend\n\n--- Function to convert userdata to vector<string>\nfunction UTILS.UserDataToVector(userdata)\n  local vector = {}\n\n  -- Iterate over the userdata values and extract them\n  for i = 1, #userdata do\n    vector[i] = userdata[i]\n  end\n\n  return vector\nend\n\n--- Function to sleep for milliseconds with a random delay\n---@param milliseconds number\nfunction UTILS.randomSleep(milliseconds)\n  math.randomseed(os.time())\n  local randomDelay = math.random(1, 200)\n  local totalDelay = milliseconds + randomDelay\n  local start = os.clock()\n  local target = start + (totalDelay / 1000)\n  while os.clock() < target do\n    API.RandomSleep2(100, 0, 0)\n  end\nend\n\n--- Function to convert userdata to string\nfunction UTILS.UserDataToString(userdata)\n  local vector = {}\n\n  -- Iterate over the userdata values and extract them\n  for i = 1, #userdata do\n    vector[i] = userdata[i]\n  end\n\n  return table.concat(vector, "")\nend\n\n--- Function to convert a Lua table to string\n---comment\n---@param tbl table\n---@return string\nfunction UTILS.tableToString(tbl)\n  local strTable = {}\n  for _, innerTbl in ipairs(tbl) do\n    local strInnerTable = {}\n    for _, value in ipairs(innerTbl) do\n      table.insert(strInnerTable, tostring(value))\n    end\n    table.insert(strTable, "{" .. table.concat(strInnerTable, ", ") .. "}")\n  end\n  return table.concat(strTable, ", ")\nend\n\n--- Function to check for various game states<br>\n--- Checks if we\'re logged in and if API.Read_LoopyLoop() is true\n---@return boolean\nfunction UTILS.gameStateChecks()\n  if not API.PlayerLoggedIn() then\n    print(\'not logged in\')\n    API.Write_LoopyLoop(false)\n    return false\n  end\n  if not API.Read_LoopyLoop() then\n    print(\'LoopyLoop is false\')\n    return false\n  end\n  return true\nend\n\n--- Function to wait for an animation to complete, upto defined seconds\n---@param animationId number\n---@param maxWaitInSeconds number\n---@return boolean\nfunction UTILS.waitForAnimation(animationId, maxWaitInSeconds)\n  local animation = animationId or 0\n  local waitTime = maxWaitInSeconds or 5\n  local exitLoop = false\n  local start = os.time()\n  while not exitLoop and os.time() - start < waitTime do\n    if not (API.Read_LoopyLoop() or API.PlayerLoggedIn()) then\n      exitLoop = true\n      return false\n    end\n    if (API.ReadPlayerAnim() == animation) then\n      exitLoop = true\n      return true\n    end\n    UTILS.rangeSleep(50, 50, 50)\n  end\nend\n\n--- After exiting combat, you can use a lodestone for a specific duration.<br>\n--- This method tells you when you can use a lodestone\n---@return boolean\nfunction UTILS.CanUseLodestone()\n  local vb = API.VB_FindPSett(7994)\n  return vb.state == -1 or vb.stateAlt == -1\nend\n\n--- Function to wait for a player to reach a coords within a threshold, upto defined seconds\n---comment\n---@param coords WPOINT\n---@param threshold number\n---@param maxWaitInSeconds number\n---@return boolean\nfunction UTILS.waitForPlayerAtCoords(coords, threshold, maxWaitInSeconds)\n  local waitTime = maxWaitInSeconds or 5\n  local variance = threshold or 0\n  local exitLoop = false\n  local start = os.time()\n  while not exitLoop and os.time() - start < waitTime do\n    if not (API.Read_LoopyLoop() or API.PlayerLoggedIn()) then\n      exitLoop = true\n      return false\n    end\n    if (API.PInAreaW(coords, variance)) then\n      exitLoop = true\n      return true\n    end\n    UTILS.rangeSleep(50, 50, 50)\n  end\nreturn false\nend\n\n--[[\n  Example Usage\n\n  local lodestone = {\n    BanditCamp = {\n        id = 9,\n        x = 2899,\n        y = 3544,\n        z = 0\n    }\n  }\n\n  print(\'Teleporting to \', UTILS.GetLabelFromArgument(lodestone.BanditCamp, lodestone))\n  would print \'Teleporting to BanditCamp\'\n--]]\n\n--- Function to get the label of the table element\n---comment\n---@param arg any\n---@param table table\n---@return any | nil\nfunction UTILS.GetLabelFromArgument(arg, table)\n  for label, record in pairs(table) do\n    if record == arg then\n      return label\n    end\n  end\n  return nil\nend\n\n--- Function to concatenate tables\n---@param ... table[]\n---@return table\nfunction UTILS.concatenateTables(...)\n  local result = {}\n  for _, tbl in ipairs({ ... }) do\n    for _, value in ipairs(tbl) do\n      table.insert(result, value)\n    end\n  end\n  return result\nend\n\n--- Function to extract distinct values from a table\n---@param inputTable table\n---@return table\nfunction UTILS.getDistinctValues(inputTable)\n  local distinctValues = {}\n  local seenValues = {}\n\n  for _, value in ipairs(inputTable) do\n    if not seenValues[value] then\n      table.insert(distinctValues, value)\n      seenValues[value] = true\n    end\n  end\n  return distinctValues\nend\n\n--- Function to get you distinct values from the input table based on the property\n---comment\n---@param inputTable table\n---@param property string\n---@return table\nfunction UTILS.getDistinctByProperty(inputTable, property)\n  local distinctValues = {}\n  local seenValues = {}\n\n  for _, value in ipairs(inputTable) do\n    local prop = value[property]\n    if not seenValues[prop] then\n      table.insert(distinctValues, value)\n      seenValues[prop] = true\n    end\n  end\n  return distinctValues\nend\n\n--[[\nHandles the below random events\n<br>18204 Chronicle fragment, other peopls 18205\n<br>19884 Guthix butterfly       \t\n<br>26022 Seren spirit\n<br>27228 Divine blessing\n<br>27297 Forge phoenix\n<br>28411 Catalyst\n<br>30599 Halloween Pumpkin\n<br>15451 Fire spirit\n]]\n---@return boolean\nfunction UTILS.DO_RandomEvents()\n  local F_obj = API.GetAllObjArrayInteract({ 19884, 26022, 27228, 27297, 28411, 30599, 15451 }, 20, 1)\n  --if not (F_obj) == nil then\n  if (F_Obj) ~= nil then\n      print("Random event object detected: trying to click")\n      UTILS.randomSleep(1000)\n      if API.DoAction_NPC__Direct(0x29, API.InteractNPC_route, F_obj[1]) then\n          UTILS.randomSleep(1000)\n          return true\n      end\n  end\n  return false\nend\n\n--- Function to load a primary action bar\n---@param barNumber number\n---@return boolean\nfunction UTILS.LoadActionBar(barNumber)\n  print("Loading action bar: " .. barNumber)\n  local bars = {\n    ONE = { number = 255, id = 1, offset = API.OFF_ACT_GeneralInterface_route },\n    TWO = { number = 255, id = 2, offset = API.OFF_ACT_GeneralInterface_route },\n    THREE = { number = 255, id = 3, offset = API.OFF_ACT_GeneralInterface_route },\n    FOUR = { number = 255, id = 4, offset = API.OFF_ACT_GeneralInterface_route },\n    FIVE = { number = 255, id = 5, offset = API.OFF_ACT_GeneralInterface_route },\n    SIX = { number = 255, id = 6, offset = API.OFF_ACT_GeneralInterface_route2 },\n    SEVEN = { number = 255, id = 7, offset = API.OFF_ACT_GeneralInterface_route2 },\n    EIGHT = { number = 255, id = 8, offset = API.OFF_ACT_GeneralInterface_route2 },\n    NINE = { number = 255, id = 9, offset = API.OFF_ACT_GeneralInterface_route2 },\n    TEN = { number = 255, id = 10, offset = API.OFF_ACT_GeneralInterface_route2 },\n    ELEVEN = { number = 254, id = 6, offset = API.OFF_ACT_GeneralInterface_route2 },\n    TWELVE = { number = 254, id = 7, offset = API.OFF_ACT_GeneralInterface_route2 },\n    THIRTEEN = { number = 254, id = 8, offset = API.OFF_ACT_GeneralInterface_route2 },\n    FOURTEEN = { number = 254, id = 9, offset = API.OFF_ACT_GeneralInterface_route2 },\n    FIFTEEN = { number = 254, id = 10, offset = API.OFF_ACT_GeneralInterface_route2 },\n    SIXTEEN = { number = 253, id = 6, offset = API.OFF_ACT_GeneralInterface_route2 },\n    SEVENTEEN = { number = 253, id = 7, offset = API.OFF_ACT_GeneralInterface_route2 },\n    EIGHTEEN = { number = 253, id = 8, offset = API.OFF_ACT_GeneralInterface_route2 },\n  }\n\n  local selected = { id = nil, number = nil, offset = nil }\n\n  -- Set [5th param in DO::DoAction_Interface]\n  if barNumber >= 1 and barNumber <= 10 then\n    selected.number = 255\n  elseif barNumber >= 11 and barNumber <= 15 then\n    selected.number = 254\n  elseif barNumber >= 16 and barNumber <= 18 then\n    selected.number = 253\n  else\n    print("Invalid bar number passed: " .. tostring(barNumber))\n    return false\n  end\n\n  -- Set Offset [7th param in DO::DoAction_Interface]\n  if barNumber >= 1 and barNumber <= 5 then\n    selected.offset = API.OFF_ACT_GeneralInterface_route\n  elseif barNumber >= 6 and barNumber <= 18 then\n    selected.offset = API.OFF_ACT_GeneralInterface_route2\n  end\n  -- set number [3rd param in DO::DoAction_Interface]\n  if barNumber == 10 or barNumber == 15 then\n    selected.id = 10\n  elseif barNumber >= 1 and barNumber <= 9 then\n    selected.id = barNumber\n  elseif barNumber >= 11 and barNumber <= 14 then\n    selected.id = barNumber - 5\n  elseif barNumber >= 16 and barNumber <= 18 then\n    selected.id = barNumber - 10\n  end\n\n  -- print("selected is: {id: " .. selected.id .. ", number: " .. selected.number .. ", offset: " .. selected.offset)\n  API.DoAction_Interface(0xffffffff, 0xffffffff, selected.id, 1430, selected.number, -1, selected.offset)\nend\n\nfunction UTILS.surge()\n  local surgeAB = UTILS.getSkillOnBar("Surge")\n  if surgeAB ~= nil then\n    return API.DoAction_Ability_Direct(surgeAB, 1, API.OFF_ACT_GeneralInterface_route)\n  end\n  return false\nend\n\nfunction UTILS.dive(destinationTile)\n  local diveAB = UTILS.getSkillOnBar("Dive")\n  if diveAB ~= nil then\n    return API.DoAction_Dive_Tile(destinationTile)\n  end\n  return false\nend\n\n--- Get\'s a skill on the ability bar<br>\n--- Checks if it can be used<br>\n--- Returns nil if the skill isn\'t found or can\'t be used\n---@param skillName string\n---@return Abilitybar | nil\nfunction UTILS.getSkillOnBar(skillName)\n  local skillOnAB = API.GetABs_name1(skillName)\n  if skillOnAB.id ~= 0 and skillOnAB.enabled then\n    return skillOnAB\n  else\n    return nil\n  end\nend\n\n--- Waits for a number of ticks\n---@param ticks number\n---@return boolean\nfunction UTILS.countTicks(ticks)\n  local ticker = 0\n  API.Check_tick()\n  while ticker < ticks do\n    UTILS.rangeSleep(10, 10, 10)\n    if API.Check_tick() then\n      ticker = ticker + 1\n    end\n    if not UTILS.gameStateChecks() then\n      return false\n    end\n  end\n  return true\nend\n\n-- Function to sleep for milliseconds with a random delay\n---comment\n---@param milliseconds number\n---@param randMin number = 0\n---@param randMax number = 0\nfunction UTILS.rangeSleep(milliseconds, randMin, randMax)\n  randMin = randMin or 0\n  randMax = randMax or 0\n  math.randomseed(os.time())\n  local randomDelay = math.random(randMin, randMax)\n  local totalDelay = milliseconds + randomDelay\n  local start = os.clock()\n  local target = start + (totalDelay / 1000)\n  while os.clock() < target do\n    API.RandomSleep2(50,0,0)\n  end\nend\n\n--- Sleeps until the condition function returns true<br>\n--- Checks for other random events,game state and API.Read_LoopyLoop\n---@param conditionFunc function\n---@param timeout number\n---@param message string\n---@param ... any\n---@return boolean\nfunction UTILS.SleepUntil(conditionFunc, timeout, message, ...)\n  local startTime = os.time()\n  local sleepSuccessful = false\n  while not conditionFunc(...) do\n    API.DoRandomEvents()\n    if os.difftime(os.time(), startTime) >= timeout then\n      print("Stopped waiting for " .. message .. " after " .. timeout .. " seconds.")\n      break\n    end\n    if not API.Read_LoopyLoop() then\n      print("Script exited - breaking sleep.")\n      break\n    end\n    if not UTILS.gameStateChecks() then\n      print("State checks failed - breaking sleep.")\n      break\n    end\n    API.RandomSleep2(100, 100, 100)\n  end\n  if conditionFunc(...) then\n    print("Sleep condition met for " .. message)\n    sleepSuccessful = true\n  end\n  return sleepSuccessful\nend\n\n--- Sleeps until the condition function returns true<br>\n--- No checks\n---@param conditionFunc function\n---@param timeout number\n---@param message string\n---@param ... any\n---@return boolean\nfunction UTILS.SleepUtilWithoutChecks(conditionFunc, timeout, message, ...)\n  local startTime = os.time()\n  local sleepSuccessful = false\n  while not conditionFunc(...) do\n    API.DoRandomEvents()\n    if os.difftime(os.time(), startTime) >= timeout then\n      print("Stopped waiting for " .. message .. " after " .. timeout .. " seconds.")\n      break\n    end\n    API.RandomSleep2(100, 100, 100)\n  end\n  if conditionFunc(...) then\n    print("Sleep condition met for " .. message)\n    sleepSuccessful = true\n  end\n  return sleepSuccessful\nend\n\nfunction UTILS.isAuraActive()\n  return API.VB_FindPSett(7702).state > 0\nend\n\nfunction UTILS.findItemInInventory(itemId)\n  local inventory = API.ReadInvArrays33()\n  local foundItem = nil\n  for i = 1, #inventory do\n    if inventory[i].itemid1 == itemId then\n      foundItem = inventory[i]\n      break\n    end\n  end\n  return foundItem\nend\n\n---Get number of ores in ore box\n---@param oreId integer\n---@return integer\n--[[\n    Ore IDs:\n\n    436     Copper\n    438     Tin\n    440     Iron\n    442     Silver\n    444     Gold\n    447     Mithril\n    449     Adamantite\n    451     Runite\n    453     Coal\n    21778   Banite\n    44820   Luminite\n    44822   Orichalcite\n    44824   Drakolith\n    44826   Necrite\n    44828   Phasmatite\n    44830   Light animica\n    44832   Dark animica\n]]\nfunction UTILS.getAmountInOrebox(oreId)\n  local state\n  if oreId == 436 then       -- Copper ore\n    state = API.VB_FindPSett(8309).state\n  elseif oreId == 438 then   -- Tin ore\n    state = API.VB_FindPSett(8310).state\n  elseif oreId == 440 then   -- Iron ore\n    state = API.VB_FindPSett(8311).state\n  elseif oreId == 442 then   -- Silver ore\n    state = API.VB_FindPSett(8313).state\n  elseif oreId == 444 then   -- Gold ore\n    state = API.VB_FindPSett(8317).state\n  elseif oreId == 447 then   -- Mithril ore\n    state = API.VB_FindPSett(8314).state\n  elseif oreId == 449 then   -- Adamantite ore\n    state = API.VB_FindPSett(8315).state\n  elseif oreId == 451 then   -- Runite ore\n    state = API.VB_FindPSett(8318).state\n  elseif oreId == 453 then   -- Coal\n    state = API.VB_FindPSett(8312).state\n  elseif oreId == 21778 then -- Banite ore\n    state = API.VB_FindPSett(8323).state\n  elseif oreId == 44820 then -- Luminite\n    state = API.VB_FindPSett(8316).state\n  elseif oreId == 44822 then -- Orichalcite ore\n    state = API.VB_FindPSett(8319).state\n  elseif oreId == 44824 then -- Drakolith\n    state = API.VB_FindPSett(8320).state\n  elseif oreId == 44826 then -- Necrite ore\n    state = API.VB_FindPSett(8321).state\n  elseif oreId == 44828 then -- Phasmatite\n    state = API.VB_FindPSett(8322).state\n  elseif oreId == 44830 then -- Light animica\n    state = API.VB_FindPSett(8324).state\n  elseif oreId == 44832 then -- Dark animica\n    state = API.VB_FindPSett(8325).state\n  else\n    return -1\n  end\n  return state >> 0 & 0x3fff\nend\nlocal instance = UTILS.new()\nreturn instance\n'})})})]})}function b(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(f,{...e})}):f(e)}},5816:(e,n,t)=>{t.d(n,{c:()=>i});const i=t.p+"assets/images/actionBarSwitcher-caed317dee60b6b165dc429799a49fb0.gif"}}]);