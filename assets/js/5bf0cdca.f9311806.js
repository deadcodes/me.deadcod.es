"use strict";(self.webpackChunkdeadcodes=self.webpackChunkdeadcodes||[]).push([[880],{7173:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>A,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>u,toc:()=>l});var a=t(7624),r=t(2172),i=(t(1504),t(3940)),c=t(9188),f=t(9460);t(9080);const s=JSON.parse('[{"date":"2024-01-20","title":"Release [1.0]","items":["Release"]}]'),o={title:"DeadAuras",description:"Aura Management",slug:"/dead-aura"},d=void 0,u={id:"Libraries/auraManager/index",title:"DeadAuras",description:"Aura Management",source:"@site/docs/Libraries/auraManager/index.md",sourceDirName:"Libraries/auraManager",slug:"/dead-aura",permalink:"/dead-aura",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"DeadAuras",description:"Aura Management",slug:"/dead-aura"},sidebar:"libSidebar",previous:{title:"Libraries",permalink:"/category/libraries"},next:{title:"Lodestones",permalink:"/lodestones"}},A={},l=[{value:"Usage",id:"usage",level:2},{value:"Changelog",id:"changelog",level:2},{value:"Code",id:"code",level:2}];function I(n){const e={admonition:"admonition",code:"code",h2:"h2",pre:"pre",...(0,r.M)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.c,{title:"Dead Auras",version:"2024.01",skill:"Aura"}),"\n",(0,a.jsx)(e.admonition,{type:"hidden",children:(0,a.jsx)(e.h2,{id:"usage",children:"Usage"})}),"\n",(0,a.jsx)(c.c,{title:"Usage",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-lua",metastring:"showLineNumbers",children:'local AURAS = require("deadAuras")\nAURAS.GREENFINGERS:activate()\n'})})}),"\n",(0,a.jsx)(e.admonition,{type:"hidden",children:(0,a.jsx)(e.h2,{id:"changelog",children:"Changelog"})}),"\n",(0,a.jsx)(f.c,{changes:s}),"\n",(0,a.jsx)(e.admonition,{type:"hidden",children:(0,a.jsx)(e.h2,{id:"code",children:"Code"})}),"\n",(0,a.jsx)(c.c,{title:"Code",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-lua",metastring:"showLineNumbers",children:"local API = require(\"api\")\nlocal AURAS = {}\n\nlocal auraTitleInterface = {\n    InterfaceComp5.new(1929, 0, -1, -1, 0),\n    InterfaceComp5.new(1929, 2, -1, 0, 0),\n    InterfaceComp5.new(1929, 2, 14, 2, 0),\n}\n\nlocal auraStatusTextInterface = {\n    InterfaceComp5.new(1929, 0, -1, -1, 0),\n    InterfaceComp5.new(1929, 3, -1, 0, 0),\n    InterfaceComp5.new(1929, 4, -1, 3, 0),\n    InterfaceComp5.new(1929, 74, -1, 4, 0),\n}\n\nlocal buttonTextInterface = {\n    InterfaceComp5.new(1929, 0, -1, -1, 0),\n    InterfaceComp5.new(1929, 3, -1, 0, 0),\n    InterfaceComp5.new(1929, 4, -1, 3, 0),\n    InterfaceComp5.new(1929, 6, -1, 4, 0),\n    InterfaceComp5.new(1929, 11, -1, 6, 0),\n    InterfaceComp5.new(1929, 18, -1, 11, 0),\n    InterfaceComp5.new(1929, 19, -1, 18, 0),\n}\n\nlocal auraOverridePopup = {\n\n    InterfaceComp5.new(1929, 0, -1, -1, 0),\n    InterfaceComp5.new(1929, 3, -1, 0, 0),\n    InterfaceComp5.new(1929, 142, -1, 3, 0),\n    InterfaceComp5.new(1929, 144, -1, 142, 0),\n    InterfaceComp5.new(1929, 166, -1, 144, 0),\n    InterfaceComp5.new(1929, 166, 14, 166, 0),\n}\n\nlocal CONSTANTS = {\n    BUTTON_BUY = \"Buy\",\n    BUTTON_ACTIVATE = \"Activate\",\n    BUTTON_DEACTIVATE = \"Deactivate\",\n    AURA_MANAGEMENT = \"Aura Management\",\n    READY = \"Ready to use\",\n    RECHARGING = \"Currently recharging\",\n    ACTIVE = \"Currently active\",\n}\n\nlocal function doesStringInclude(input, searchValue)\n    return string.find(tostring(input), searchValue) ~= nil\nend\n\n\nlocal function waitUntil(x, timeout)\n    local start = os.time()\n    while not x() and start + timeout > os.time() do\n        API.RandomSleep2(200, 200, 200)\n    end\n    return start + timeout > os.time()\nend\n\nlocal function isInterfaceVisible(interface, nested)\n    local inter = API.ScanForInterfaceTest2Get(nested, interface)\n    if (#inter > 0 ) then\n        print('visible', inter[1].textids)\n        if inter[1].x > 0 then\n            return true\n        end\n    end\n    return false\nend\n\nlocal function getInterfaceText(interface, nested)\n    local inter = API.ScanForInterfaceTest2Get(nested, interface)\n    if (#inter > 0) then\n        return inter[1].textids\n    else\n        return nil\n    end\nend\n\nlocal function getButtonText()\n    return getInterfaceText(buttonTextInterface, false)\nend\n\n\nlocal function canUseAura()\n    -- select the aura here\n    local status = getInterfaceText(auraStatusTextInterface, false)\n    local inter = API.ScanForInterfaceTest2Get(false, auraStatusTextInterface)\n    if (#inter > 0) then\n        local status = inter[1].textids\n        if (string.len(status) > 0) and doesStringInclude(status, CONSTANTS.READY) then\n            return true\n        else\n            return false\n        end\n    else\n        return false\n    end\nend\n\nlocal function isAuraInterfaceOpen()\n    local inter = API.ScanForInterfaceTest2Get(false, auraTitleInterface)\n    if (#inter > 0) then\n        local status = inter[1].textids\n        if (string.len(status) > 0) and (doesStringInclude(status, CONSTANTS.AURA_MANAGEMENT)) then\n            return true\n        else\n            return false\n        end\n    else\n        return false\n    end\nend\n\nfunction AURAS.openAuraInterface()\n    if isAuraInterfaceOpen() then\n        return\n    end\n    local auraEquipped = AURAS.isAuraEquipped()\n    print('auraEquipped', auraEquipped)\n    if (auraEquipped) then\n        print('aura equipped, going in')\n        local auraId = API.GetEquipSlot(11).itemid1\n        API.DoAction_Interface(0xffffffff, auraId, 2, 1464, 15, 14, API.OFF_ACT_GeneralInterface_route)\n    else\n        print('no aura equipped')\n        API.DoAction_Interface(0xffffffff, 0xffffffff, 1, 1464, 15, 14, API.OFF_ACT_GeneralInterface_route)\n    end\nend\n\nfunction AURAS.closeAuraInterface()\n    API.DoAction_Interface(0x24, 0xffffffff, 1, 1929, 167, -1, API.OFF_ACT_GeneralInterface_route)\nend\n\nlocal function openEquipmentInterface()\n    API.DoAction_Interface(0xc2, 0xffffffff, 1, 1432, 5, 2, API.OFF_ACT_GeneralInterface_route)\nend\n\nlocal function isEquipmentInterfaceOpen()\n    return API.VB_FindPSett(3074).SumOfstate == 1\nend\n\nfunction AURAS.isAuraEquipped()\n    local equipmentOpen = isEquipmentInterfaceOpen()\n    if not equipmentOpen then\n        openEquipmentInterface()\n    end\n    local equipped = false\n    if API.GetEquipSlot(11).itemid1 == -1 then equipped = false else equipped = true end\n    if not equipmentOpen then\n        openEquipmentInterface()\n    end\n    return equipped\nend\n\nlocal function selectAura(auraIds, force)\n    if (not AURAS.isAuraEquipped()) and force then\n        print('already have an aura, no force')\n        return\n    end\n\n    for index, value in ipairs(auraIds) do\n        API.DoAction_Interface(0xffffffff, auraIds[index][1], 1, 1929, 95, auraIds[index][2],\n            API.OFF_ACT_GeneralInterface_route)\n        API.RandomSleep2(1200, 100, 300)\n        local btnText = getButtonText()\n        if doesStringInclude(btnText, CONSTANTS.BUTTON_DEACTIVATE) then\n            print('aura already active')\n            break\n        end\n        if (canUseAura()) then\n            if doesStringInclude(btnText, CONSTANTS.BUTTON_ACTIVATE) then\n                API.DoAction_Interface(0x24, 0xffffffff, 1, 1929, 16, -1, API.OFF_ACT_GeneralInterface_route)\n                API.RandomSleep2(1200, 100, 300)\n                if AURAS.isAuraEquipped() and force then\n                    print('force use')\n                    API.DoAction_Interface(0x24,0xffffffff,1,1929,162,-1,API.OFF_ACT_GeneralInterface_route)\n                    API.RandomSleep2(800, 100, 300)\n                    AURAS.closeAuraInterface()\n                end\n                break\n            else\n                print('have aura but cant use')\n            end\n        else\n            print('dont have aura')\n        end\n    end\nend\n\nlocal function activateAura(auraIds, force)\n    local auraInterfaceOpened = isAuraInterfaceOpen()\n    if not auraInterfaceOpened then\n        AURAS.openAuraInterface()\n    end\n    if not waitUntil(isAuraInterfaceOpen, 10) then\n        print('Aura interface wasnt open after 10 seconds, exiting')\n        return\n    end\n    selectAura(auraIds, force)\n    if not auraInterfaceOpened then\n        AURAS.openAuraInterface()\n    end\nend\n\nAURAS.ODDBALL = {\n    ids = { { 20957, 0 } },\n    activate = function(force) activateAura(0, force) end\n}\nAURAS.FESTIVE = {\n    ids = { { 26120, 88 } },\n    activate = function(force) activateAura(0, force) end\n}\nAURAS.POISON_PURGE = {\n    ids = { { 23862, 67 }, { 22917, 48 }, { 22268, 10 }, { 20958, 1 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\nAURAS.FRIEND_IN_NEED = {\n    ids = { { 20963, 2 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.KNOCK_OUT = {\n    ids = { { 22933, 53 }, { 20961, 3 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.SHARP_SHOOTER = {\n    ids = { { 23866, 69 }, { 22921, 50 }, { 22272, 12 }, { 20967, 4 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.RUNIC_ACCURACY = {\n    ids = { { 23864, 68 }, { 22919, 49 }, { 22270, 11 }, { 20962, 5 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.SUREFOOTED = {\n    ids = { { 22278, 15 }, { 20964, 6 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.REVERENCE = {\n    ids = { { 23870, 71 }, { 22925, 52 }, { 22276, 14 }, { 20965, 7 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.CALL_OF_THE_SEA = {\n    ids = { { 30794, 74 }, { 23868, 70 }, { 22923, 51 }, { 22274, 13 }, { 20966, 8 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.LUMBERJACK = {\n    ids = { { 30796, 75 }, { 23860, 66 }, { 22915, 47 }, { 22282, 17 }, { 22280, 16 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.QUARRYMASTER = {\n    ids = { { 30800, 77 }, { 23858, 65 }, { 22913, 46 }, { 22286, 19 }, { 22284, 18 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.FIVE_FINGER_DISCOUNT = {\n    ids = { { 30798, 76 }, { 23856, 64 }, { 22911, 45 }, { 22290, 21 }, { 22288, 20 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.RESOURCEFUL = {\n    ids = { { 22292, 22 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.EQUILIBRIUM = {\n    ids = { { 22294, 23 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.INSPIRATION = {\n    ids = { { 22296, 24 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.PENANCE = {\n    ids = { { 22300, 26 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.WISDOM = {\n    ids = { { 35832, 27 }, { 35830, 27 }, { 22302, 27 } }, -- MISSING????\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.AEGIS = {\n    ids = { { 22889, 28 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.REGENERATION = {\n    ids = { { 22893, 29 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.DARK_MAGIC = {\n    ids = { { 22891, 30 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.BERSERKER = {\n    ids = { { 22897, 31 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.ANCESTOR_SPIRITS = {\n    ids = { { 22895, 32 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.TRACKER = {\n    ids = { { 30802, 78 }, { 23872, 72 }, { 22931, 38 }, { 22929, 37 }, { 22927, 36 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.SALVATION = {\n    ids = { { 23876, 54 }, { 22903, 41 }, { 22901, 40 }, { 22899, 39 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.CORRUPTION = {\n    ids = { { 23874, 55 }, { 22909, 44 }, { 22907, 43 }, { 22905, 42 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.HARMONY = {\n    ids = { { 23854, 59 }, { 23852, 58 }, { 23850, 57 }, { 23848, 56 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.INVIGORATE = {\n    ids = { { 23846, 63 }, { 23844, 62 }, { 23842, 61 }, { 23840, 60 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.GREENFINGERS = {\n    ids = { { 30804, 79 }, { 23878, 73 }, { 22887, 35 }, { 22885, 34 }, { 22883, 33 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.ENRICHMENT = {\n    ids = { { 30792, 84 }, { 30790, 83 }, { 30788, 82 }, { 30786, 81 }, { 30784, 80 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.BRAWLER = {\n    ids = { { 35792, 92 }, { 35790, 91 }, { 35788, 90 }, { 35786, 89 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.RECKLESS = {\n    ids = { { 35794, 93 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.MANIACAL = {\n    ids = { { 35796, 94 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.DEDICATED_SLAYER = {\n    ids = { { 35806, 99 }, { 35804, 98 }, { 35802, 97 }, { 35800, 96 }, { 35798, 95 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.FOCUSED_SIPHONING = {\n    ids = { { 35816, 104 }, { 35814, 103 }, { 35812, 102 }, { 35810, 101 }, { 35808, 100 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.FLAMEPROOF = {\n    ids = { { 35826, 108 }, { 35824, 107 }, { 35820, 106 }, { 35818, 105 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nAURAS.JACK_OF_TRADES = {\n    ids = { { 35828, 110 }, { 30808, 86 }, { 30806, 85 }, { 20959, 9 } },\n    activate = function(self, force) activateAura(self.ids, force) end\n}\n\nreturn AURAS\n\n"})})})]})}function p(n={}){const{wrapper:e}={...(0,r.M)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(I,{...n})}):I(n)}}}]);